<?xml version="1.0" encoding="utf-8" ?>
<configuration xmlns="MyWindsorSchema">
  <properties>
    <svnToolPath>..\..\..\lib\svn\svn.exe</svnToolPath>
  </properties>
  <components>
    <component 
      id="DefaultRunner"
      service="ProjectPilot.Framework.Runners.IRunner, ProjectPilot.Framework"
      type="ProjectPilot.Framework.Runners.DefaultRunner, ProjectPilot.Framework"/>

    <component
      id="ProjectRegistry"
      service="ProjectPilot.Framework.IProjectRegistry, ProjectPilot.Framework"
      type="ProjectPilot.Framework.ProjectRegistry, ProjectPilot.Framework">
    </component>

    <component
      id="FileManager"
      service="ProjectPilot.Framework.IFileManager, ProjectPilot.Framework"
      type="ProjectPilot.Framework.DefaultFileManager, ProjectPilot.Framework">
      <parameters>
        <storageRootDir>Storage</storageRootDir>
      </parameters>
    </component>

    <component
      id="SessionStorage"
      service="ProjectPilot.Framework.ISessionStorage, ProjectPilot.Framework"
      type="ProjectPilot.Framework.FileSessionStorage, ProjectPilot.Framework"/>
    
    <component
      id="ProjectPilotConfiguration"
      service="ProjectPilot.Framework.IProjectPilotConfiguration, ProjectPilot.Framework"
      type="ProjectPilot.Framework.ProjectPilotConfiguration, ProjectPilot.Framework">
      <parameters>
        <ProjectPilotWebAppRootUrl>http://localhost/ProjectPilot</ProjectPilotWebAppRootUrl>
      </parameters>
    </component>

    <component
      id="TimeProvider"
      service="ProjectPilot.Framework.ITimeProvider, ProjectPilot.Framework"
      type="ProjectPilot.Framework.StandardTimeProvider, ProjectPilot.Framework">
    </component>
    
    <component
      id="TemplateEngine"
      service="ProjectPilot.Framework.ITemplateEngine, ProjectPilot.Framework"
      type="ProjectPilot.Framework.DefaultTemplateEngine, ProjectPilot.Framework"/>

    <!-- ProjectPilot project -->
    <component
      id="ProjectProjectPilot"
      type="ProjectPilot.Framework.Project, ProjectPilot.Framework">
      <parameters>
        <projectId>projectpilot</projectId>
        <projectName>ProjectPilot</projectName>
        <modules>
          <list>
            <item>${RcsModule}</item>
          </list>
        </modules>
      </parameters>
    </component>

    <!--<component
      id="SvnModule"
      service="ProjectPilot.Framework.RevisionControlHistory.IRevisionControlHistoryFacility, ProjectPilot.Framework"
      type="ProjectPilot.Framework.Subversion.SubversionHistoryFacility, ProjectPilot.Framework">
      <parameters>
        <facilityId>SVN ProjectPilot</facilityId>
        <svnToolPath>#{svnToolPath}</svnToolPath>
        --><!--<svnRootPath>D:\MyStuff\projects\ProjectPilot</svnRootPath>--><!--
        <svnRootPath>D:\svn\mobilkom.nl-bhwr\trunk</svnRootPath>
      </parameters>
    </component>-->

    <component
      id="RcsModule"
      type="ProjectPilot.Framework.Modules.RevisionControlStatsModule, ProjectPilot.Framework">
    </component>
    <component
      id="RcsModuleTrigger"
      service="ProjectPilot.Framework.Modules.ITrigger, ProjectPilot.Framework"
      type="ProjectPilot.Framework.Modules.PeriodicTrigger, ProjectPilot.Framework">
      <parameters>
        <period>10000</period>
      </parameters>
    </component>
  </components>
</configuration>
